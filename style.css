/* Clean Dark Mode Theme */

/* 1. Global Reset & Colors */
[data-testid="stAppViewContainer"] {
    background-color: #0E1117 !important;
    color: #FAFAFA !important;
}

[data-testid="stSidebar"] {
    background-color: #262730 !important;
    border-right: 1px solid #41424C !important;
}

h1, h2, h3, h4, h5, h6, p, label, span, div {
    color: #FAFAFA !important;
}

/* 2. Hide Unwanted Streamlit Elements */
#MainMenu {visibility: hidden;}
footer {visibility: hidden;}
[data-testid="stStatusWidget"] {display: none !important;}
[data-testid="stDecoration"] {display: none !important;}
[data-testid="stHeader"] {background: transparent !important;}

/* 3. Sidebar Toggle Button */
[data-testid="stSidebarCollapseButton"] {
    color: #FFFFFF !important;
    display: block !important;
    background-color: transparent !important;
    opacity: 1 !important;
}
[data-testid="stSidebarCollapseButton"] svg {
    fill: #FFFFFF !important;
    stroke: #FFFFFF !important;
}
[data-testid="stSidebarCollapseButton"]:hover {
    background-color: rgba(255, 255, 255, 0.1) !important;
}

/* 4. Sidebar Navigation */
[data-testid="stSidebar"] [data-testid="stRadio"] label {
    background-color: transparent !important;
    color: #FAFAFA !important;
    border: none !important;
    margin-bottom: 8px !important;
    padding: 12px 16px !important;
    border-radius: 4px !important;
    transition: background-color 0.2s ease;
}

[data-testid="stSidebar"] [data-testid="stRadio"] label:hover {
    background-color: rgba(255, 255, 255, 0.05) !important;
}

[data-testid="stSidebar"] [data-testid="stRadio"] label[data-checked="true"] {
    background-color: rgba(255, 255, 255, 0.1) !important;
    font-weight: 600 !important;
    border-left: 3px solid #FF4B4B !important;
}

/* Hide Radio Circles */
[data-testid="stSidebar"] [data-testid="stRadio"] div[role="radiogroup"] > label > div:first-child {
    display: none !important;
}

/* 5. Inputs & Text Areas */
input, 
textarea, 
select,
[data-baseweb="input"],
[data-baseweb="base-input"],
[data-baseweb="select"] {
    background-color: #262730 !important;
    color: #FFFFFF !important;
    border: 1px solid #41424C !important;
    border-radius: 4px !important;
    caret-color: #FFFFFF !important;
}

/* Time Input Specific Fix */
[data-testid="stTimeInput"] input,
[data-testid="stTimeInput"] [data-baseweb="input"],
[data-testid="stTimeInput"] div[data-baseweb="base-input"] {
    background-color: #262730 !important;
    color: #FFFFFF !important;
}

/* Date Input Fix */
[data-testid="stDateInput"] input,
[data-testid="stDateInput"] [data-baseweb="input"] {
    background-color: #262730 !important;
    color: #FFFFFF !important;
}

input:focus, textarea:focus {
    border-color: #FF4B4B !important;
    box-shadow: none !important;
}

::placeholder {
    color: #808495 !important;
    opacity: 1 !important;
}

/* Hide Number Input Step Buttons */
[data-testid="stNumberInputStepDown"], 
[data-testid="stNumberInputStepUp"] {
    display: none !important;
}

/* 6. Standard Buttons */
button {
    background-color: #262730 !important;
    color: #FFFFFF !important;
    border: 1px solid #41424C !important;
    border-radius: 4px !important;
    transition: all 0.2s ease !important;
}

button:hover {
    background-color: #363740 !important;
    border-color: #FAFAFA !important;
    color: #FFFFFF !important;
}

button:active {
    transform: scale(0.98);
}

/* 7. Giant Timer Button */
/* Target buttons in the center column of the 3-column layout only */
/* The 3-column layout has exactly 3 stColumn children, refresh row has only 2 */
[data-testid="stMain"] [data-testid="stHorizontalBlock"]:has([data-testid="stColumn"]:nth-child(3)) [data-testid="stColumn"]:nth-child(2) [data-testid="stButton"] button {
    width: 280px !important;
    height: 280px !important;
    border-radius: 50% !important;
    margin: 40px auto !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    font-size: 2rem !important;
    font-weight: 700 !important;
    text-transform: uppercase !important;
    letter-spacing: 2px !important;
    border: 4px solid rgba(255, 255, 255, 0.2) !important;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5) !important;
    white-space: pre-line !important;
    line-height: 1.3 !important;
}

/* Start Button (Green + Pulse) */
[data-testid="stMain"] [data-testid="stHorizontalBlock"]:has([data-testid="stColumn"]:nth-child(3)) [data-testid="stColumn"]:nth-child(2) [data-testid="stButton"] button[kind="secondary"] {
    background: linear-gradient(135deg, #28a745, #218838) !important;
    color: #FFFFFF !important;
    animation: pulse-green 2s infinite !important;
}

/* Stop Button (Red) */
[data-testid="stMain"] [data-testid="stHorizontalBlock"]:has([data-testid="stColumn"]:nth-child(3)) [data-testid="stColumn"]:nth-child(2) [data-testid="stButton"] button[kind="primary"] {
    background: linear-gradient(135deg, #dc3545, #c82333) !important;
    color: #FFFFFF !important;
    animation: none !important;
}

@keyframes pulse-green {
    0% {
        box-shadow: 0 0 0 0 rgba(40, 167, 69, 0.7);
    }
    70% {
        box-shadow: 0 0 0 20px rgba(40, 167, 69, 0);
    }
    100% {
        box-shadow: 0 0 0 0 rgba(40, 167, 69, 0);
    }
}

/* 8. Metrics */
[data-testid="stMetricValue"] {
    color: #FFFFFF !important;
    font-size: 3rem !important;
    font-weight: 700 !important;
}

[data-testid="stMetricLabel"] {
    color: #A0A0A0 !important;
}

/* 9. Expander */
[data-testid="stExpander"] {
    background-color: #262730 !important;
    border: 1px solid #41424C !important;
    border-radius: 8px !important;
}

/* 10. Refresh Button - Small and Subtle */
button[data-testid="stButton"][kind="secondary"]:has(p:contains("ðŸ”„")) {
    padding: 4px 8px !important;
    min-width: auto !important;
}
